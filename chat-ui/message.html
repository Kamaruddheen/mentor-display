<!DOCTYPE html>
<html>

<head>
    <title>Chat</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <!-- animate css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css" />
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <!-- Custom css -->
    <link rel="stylesheet" href="chat.css">
</head>

<body>
    <div class="container-fluid p-0" id="main_container">
        <div class="row m-0">
            <div class="card rounded-0 w-100" id="chat-message-view">

                <div class="list-group list-group-flush text-center" id="sidebar_close_top">
                    <li class="p-2 list-group-item">
                        <span id="sidebar_close" class="float-right">
                            <a href="chat.html" class="p-0 text-dark nav-link text-dark font-weight-bold"><i
                                    class="fas fa-chevron-left text-dark"></i>
                                back</a>
                        </span>
                    </li>
                </div>

                <!-- Header -->
                <div class="card-header">
                    <div class="media mb-0 p-0">
                        <img src="https://hk-23.github.io/sample/female-profile.png" class="rounded-circle bg-white"
                            id="img-mentor" style="width: 40px;height: 40px; border: 1px solid white;">
                        <h4 class="card-title mb-0 mt-1 mx-2"><strong>Muhammadh Kamaruddheen</strong></h4>
                    </div>
                </div>

                <!-- User Message -->
                <div class="container-fluid p-0 bg-white" id="chat" style="overflow-y: scroll !important;">
                    <!-- Dynamic message system -->
                    <div class="media mb-0 mx-2 p-2">
                        <div class="media-body mx-2 mx-w">
                            <p class="user2 order-1">
                                Hi Dude, this is requested by hariesh
                                <time class="user2_meta order-2 d-flex justify-content-end p-0 m-0">07:30 am</time>
                            </p>
                        </div>
                    </div>

                    <div class="container justify-content-center p-0 cont-h">
                        <div class="p-0 justify-content-center d-flex rounded-pill bg-cust">
                            <label class="btn badge badge-pill badge-light mb-0">Unread Messages</label>
                        </div>
                    </div>

                    <div class="media mb-0 mx-2 p-2">
                        <div class="media-body mx-2 mx-w">
                            <p class="user1 order-1">
                                Hi Dude, this is requested by hariesh
                                <time class="user1_meta order-2 d-flex justify-content-end p-0 m-0">07:30 am</time>
                            </p>
                        </div>
                    </div>

                    <!-- Another Sample 2 Message -->

                    <div class="media mb-0 mx-2 p-2">
                        <div class="media-body mx-2 mx-w">
                            <p class="user2 order-1">
                                Hi Dude, this is requested by hariesh
                                <time class="user2_meta order-2 d-flex justify-content-end p-0 m-0">07:30 am</time>
                            </p>
                        </div>
                    </div>

                    <div class="container justify-content-center p-0 cont-h">
                        <div class="p-0 justify-content-center d-flex rounded-pill bg-cust">
                            <label class="btn badge badge-pill badge-light mb-0">Unread Messages</label>
                        </div>
                    </div>

                    <div class="media mb-0 mx-2 p-2">
                        <div class="media-body mx-2 mx-w">
                            <p class="user1 order-1">
                                Hi Dude, this is requested by hariesh
                                <time class="user1_meta order-2 d-flex justify-content-end p-0 m-0">07:30 am</time>
                            </p>
                        </div>
                    </div>

                </div>

                <!-- Message input box -->
                <div class="input-group p-1">
                    <input type="text" class="form-control rounded-custom-left" placeholder="Type a message"
                        aria-label="message-mentor" aria-describedby="send-icon-mentor" id="sending-message-mentor">
                    <div class="input-group-prepend mr-0">
                        <button class="input-group-text rounded-custom-right bg-white" id="send-icon-mentor"><i
                                class="fas fa-paper-plane"></i></button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>

        $(document).ready(function () {

            $('#chat').scrollTop($(document).height()); // By default chat scroll will be at bottom
            //$("#chat").removeClass("scroll-beh");    // removing scroll to bottom for each message

            //  while pressing send button
            $("#send-icon-mentor").click(function () {

                // input box value
                var msg_mentor = $("#sending-message-mentor").val();

                if (msg_mentor != "") {

                    // scrollTop = scrollHeight - clientHeight
                    var h = document.getElementById("chat").clientHeight;
                    var elmnt = document.getElementById("chat");
                    var y = elmnt.scrollHeight;

                    $('#chat').scrollTop(y - h);

                    $("#sending-message-mentor").val('').focus();   // empty input box after sending message
                }
            })

            // while pressing enter key (key no. - 13)
            $("#sending-message-mentor").on("keypress", function (e) {

                // enter key checking
                if (e.keyCode == 13) {

                    // input box value
                    var msg_mentor = $("#sending-message-mentor").val();

                    if (msg_mentor != "") {

                        // scrollTop = scrollHeight - clientHeight
                        var h = document.getElementById("chat").clientHeight;
                        var elmnt = document.getElementById("chat");
                        var y = elmnt.scrollHeight;
                        $('#chat').scrollTop(y - h);

                        $("#sending-message-mentor").val('').focus();   // empty input box after sending message
                    }
                }
            });

        });

    </script>
</body>